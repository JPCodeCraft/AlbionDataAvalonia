<UserControl
	x:Class="AlbionDataAvalonia.Views.DashboardView"
	xmlns="https://github.com/avaloniaui"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:vm="clr-namespace:AlbionDataAvalonia.ViewModels"
	d:DesignHeight="450"
	d:DesignWidth="800"
	x:DataType="vm:MainViewModel"
	mc:Ignorable="d">

	<UserControl.Styles>
		<Style Selector="Rectangle.Indicator">
			<Setter Property="Width" Value="30" />
			<Setter Property="Height" Value="15" />
		</Style>

		<Style Selector="Rectangle.Green">
			<Setter Property="Fill" Value="rgba(5, 100, 2, .4)" />
		</Style>
		<Style Selector="Rectangle.Red">
			<Setter Property="Fill" Value="rgba(102, 43, 0, .4)" />
		</Style>

		<Style Selector="Rectangle.GreenBlink">
			<Setter Property="Fill" Value="rgb(13, 245, 5)" />
		</Style>
		<Style Selector="Rectangle.RedBlink">
			<Setter Property="Fill" Value="rgb(250, 104, 0)" />
		</Style>

		<Style Selector="Border.GreenBlink">
			<Setter Property="BoxShadow" Value="0 0 10 2 #0df505" />
		</Style>
		<Style Selector="Border.RedBlink">
			<Setter Property="BoxShadow" Value="0 0 10 2 #fa6800" />
		</Style>

		<Style Selector="Label.Orange">
			<Setter Property="Foreground" Value="{StaticResource AFMOrange}" />
		</Style>
		<Style Selector="Border.SectionCard">
			<Setter Property="Padding" Value="12" />
			<Setter Property="CornerRadius" Value="8" />
			<Setter Property="BorderThickness" Value="1" />
			<Setter Property="Background" Value="rgba(255,255,255,0.03)" />
			<Setter Property="BorderBrush" Value="rgba(255,255,255,0.15)" />
		</Style>
		<Style Selector="Border.StatCard">
			<Setter Property="Padding" Value="10" />
			<Setter Property="Margin" Value="4" />
			<Setter Property="CornerRadius" Value="6" />
			<Setter Property="BorderThickness" Value="1" />
			<Setter Property="BorderBrush" Value="rgba(255,255,255,0.15)" />
			<Setter Property="Background" Value="rgba(255,255,255,0.02)" />
			<Setter Property="MinWidth" Value="220" />
		</Style>
		<Style Selector="Label.SectionTitle">
			<Setter Property="FontSize" Value="16" />
			<Setter Property="FontWeight" Value="Bold" />
			<Setter Property="HorizontalAlignment" Value="Center" />
		</Style>
		<Style Selector="TextBlock.StatLabel">
			<Setter Property="FontWeight" Value="DemiBold" />
			<Setter Property="HorizontalAlignment" Value="Center" />
			<Setter Property="TextAlignment" Value="Center" />
			<Setter Property="TextWrapping" Value="Wrap" />
		</Style>
		<Style Selector="TextBlock.StatValue">
			<Setter Property="FontSize" Value="17" />
			<Setter Property="FontWeight" Value="Bold" />
			<Setter Property="HorizontalAlignment" Value="Center" />
			<Setter Property="TextAlignment" Value="Center" />
		</Style>
		<Style Selector="Border.PrivateOrdersCard">
			<Setter Property="Margin" Value="4" />
		</Style>
		<Style Selector="Border.PrivateOrdersCard.PrivateFlipsGlow">
			<Setter Property="BorderBrush" Value="{StaticResource AFMOrange}" />
			<Setter Property="Background" Value="rgba(255,167,38,0.12)" />
			<Setter Property="BoxShadow" Value="0 0 10 1 #8CFFA726" />
		</Style>
		<Style Selector="Border.DimmedUploadCard">
			<Setter Property="Background" Value="rgba(0,0,0,0.22)" />
			<Setter Property="BorderBrush" Value="rgba(255,255,255,0.07)" />
			<Setter Property="Opacity" Value="0.6" />
		</Style>

	</UserControl.Styles>

	<ScrollViewer Padding="0,0,20,20">
		<Grid
			Margin="10,10,10,10"
			ColumnDefinitions="*"
			RowDefinitions="Auto, Auto, Auto, Auto, Auto">

			<!--  QUEUE LINE  -->
			<Grid
				Margin="0,10,0,20"
				ColumnDefinitions="*, 200, 200, *"
				RowDefinitions="Auto, Auto">
				<Border
					Grid.Row="0"
					Grid.Column="0"
					HorizontalAlignment="Right"
					VerticalAlignment="Top"
					BorderBrush="Silver"
					BorderThickness="2"
					Classes.RedBlink="{Binding RedBlinking}"
					CornerRadius="2">
					<Rectangle
						Classes="Indicator Red"
						Classes.RedBlink="{Binding RedBlinking}"
						RadiusX="1"
						RadiusY="1" />
				</Border>

				<StackPanel
					Grid.Row="0"
					Grid.Column="1"
					VerticalAlignment="Center">
					<Label
						HorizontalAlignment="Center"
						Content="{Binding UploadQueueSize}"
						FontSize="24" />
					<Label HorizontalAlignment="Center" Content="Data Upload Queue" />
				</StackPanel>

				<StackPanel
					Grid.Row="0"
					Grid.Column="2"
					VerticalAlignment="Center">
					<Label
						HorizontalAlignment="Center"
						Content="{Binding RunningTasksCount}"
						FontSize="24" />
					<Label HorizontalAlignment="Center" Content="Running Upload Task" />
				</StackPanel>

				<Border
					Grid.Row="0"
					Grid.Column="3"
					HorizontalAlignment="Left"
					VerticalAlignment="Top"
					BorderBrush="Silver"
					BorderThickness="2"
					Classes.GreenBlink="{Binding GreenBlinking}"
					CornerRadius="2">
					<Rectangle
						Classes="Indicator Green"
						Classes.GreenBlink="{Binding GreenBlinking}"
						RadiusX="1"
						RadiusY="1" />
				</Border>

			</Grid>

			<!--  LOCATION AND WARNINGS LINE  -->
			<Grid
				Grid.Row="1"
				Margin="0,10,0,10"
				ColumnDefinitions="*, *, *"
				IsVisible="{Binding ShowDataUi}"
				RowDefinitions="30, 30">
				<Label
					Grid.Row="0"
					Grid.Column="0"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Content="Server"
					FontWeight="Bold" />
				<Label
					Grid.Row="1"
					Grid.Column="0"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Content="{Binding AlbionServerName}" />

				<Label
					Grid.Row="0"
					Grid.Column="1"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Content="Player Name"
					FontWeight="Bold" />
				<Label
					Grid.Row="1"
					Grid.Column="1"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Content="{Binding PlayerName}" />

				<Label
					Grid.Row="0"
					Grid.Column="2"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Content="Location"
					FontWeight="Bold" />
				<Label
					Grid.Row="1"
					Grid.Column="2"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Content="{Binding LocationName}" />
			</Grid>

			<Grid
				Grid.Row="1"
				Margin="0,10,0,10"
				ColumnDefinitions="*"
				IsVisible="{Binding ShowChangeCity}"
				RowDefinitions="60">
				<Label
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Content="{Binding ChangeCityText}"
					FontSize="20"
					FontWeight="Bold" />
			</Grid>

			<Grid
				Grid.Row="1"
				Margin="0,10,0,10"
				ColumnDefinitions="*"
				IsVisible="{Binding ShowGetInGame}"
				RowDefinitions="60, 30">
				<Label
					Grid.Row="0"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Content="You're good to go. Get ingame."
					FontSize="20"
					FontWeight="Bold" />
				<Border
					Grid.Row="1"
					Margin="0,10,0,0"
					Padding="10"
					Background="{DynamicResource ThemeBackgroundBrush}"
					BorderBrush="{DynamicResource ThemeBorderMidBrush}"
					BorderThickness="1"
					CornerRadius="6">
					<StackPanel
						HorizontalAlignment="Center"
						VerticalAlignment="Center"
						Spacing="6">
						<TextBlock
							HorizontalAlignment="Center"
							FontSize="14"
							FontWeight="Bold"
							Text="If you're stuck here, try these recovery steps:"
							TextAlignment="Center"
							TextWrapping="Wrap" />
						<TextBlock
							FontSize="14"
							Text="1. Close the AFM data client (right click the system tray icon to close)."
							TextAlignment="Center"
							TextWrapping="Wrap" />
						<TextBlock
							FontSize="14"
							Text="2. Uninstall Winpcap from Windows Control Panel."
							TextAlignment="Center"
							TextWrapping="Wrap" />
						<StackPanel
							HorizontalAlignment="Center"
							Orientation="Horizontal"
							Spacing="4">
							<TextBlock
								FontSize="14"
								Text="3. Install Npcap from"
								TextAlignment="Center"
								TextWrapping="Wrap" />
							<TextBlock
								VerticalAlignment="Center"
								Cursor="Hand"
								FontSize="14"
								Foreground="{StaticResource AFMOrange}"
								PointerReleased="NpcapLink_PointerReleased"
								Text="https://npcap.com/#download"
								TextDecorations="Underline" />
							<TextBlock
								FontSize="14"
								Text="and retry."
								TextAlignment="Center"
								TextWrapping="Wrap" />
						</StackPanel>
						<StackPanel
							HorizontalAlignment="Center"
							Orientation="Horizontal"
							Spacing="4">
							<TextBlock FontSize="14" Text="Need more help? Join our" />
							<TextBlock
								VerticalAlignment="Center"
								Cursor="Hand"
								FontSize="14"
								Foreground="{StaticResource AFMOrange}"
								PointerReleased="AFMDiscordLink_PointerReleased"
								Text="Discord"
								TextDecorations="Underline" />
							<TextBlock FontSize="14" Text="for support." />
						</StackPanel>
					</StackPanel>
				</Border>
			</Grid>

			<!--  PUBLIC DATA LINE  -->
			<Border
				Grid.Row="2"
				Margin="0,10,0,10"
				Classes="SectionCard"
				IsVisible="{Binding ShowDataUi}">
				<StackPanel Spacing="8" HorizontalAlignment="Center">
					<Label Classes="SectionTitle" Content="Public Data (AODP)" />

					<WrapPanel HorizontalAlignment="Center" ItemsAlignment="Center">
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Success" />
								<TextBlock Classes="StatValue" Text="{Binding PublicUploadSuccessCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Failed" />
								<TextBlock Classes="StatValue" Text="{Binding PublicUploadFailedCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
					</WrapPanel>

					<WrapPanel HorizontalAlignment="Center" ItemsAlignment="Center">
						<Border
							Classes="StatCard"
							Classes.DimmedUploadCard="{Binding UploadToAfmOnly}">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Market Offers" />
								<TextBlock Classes="StatValue" Text="{Binding PublicUploadedMarketOffersCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
						<Border
							Classes="StatCard"
							Classes.DimmedUploadCard="{Binding UploadToAfmOnly}">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Market Requests" />
								<TextBlock Classes="StatValue" Text="{Binding PublicUploadedMarketRequestsCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Gold Histories" />
								<TextBlock Classes="StatValue" Text="{Binding PublicUploadedGoldHistoriesCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
					</WrapPanel>

					<WrapPanel HorizontalAlignment="Center" ItemsAlignment="Center">
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Monthly Histories" />
								<TextBlock Classes="StatValue" Text="{Binding PublicUploadedMonthlyHistoriesCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Weekly Histories" />
								<TextBlock Classes="StatValue" Text="{Binding PublicUploadedWeeklyHistoriesCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Daily Histories" />
								<TextBlock Classes="StatValue" Text="{Binding PublicUploadedDailyHistoriesCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Bandit Events" />
								<TextBlock Classes="StatValue" Text="{Binding PublicUploadedBanditEventsCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
					</WrapPanel>
				</StackPanel>
			</Border>

			<!--  PRIVATE DATA LINE  -->
			<Border
				Grid.Row="3"
				Margin="0,10,0,10"
				Classes="SectionCard"
				IsVisible="{Binding ShowDataUi}">
				<StackPanel Spacing="8" HorizontalAlignment="Center">
					<Label Classes="SectionTitle" Content="Private Data (AFM)" />

					<WrapPanel HorizontalAlignment="Center" ItemsAlignment="Center">
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Success" />
								<TextBlock Classes="StatValue" Text="{Binding PrivateUploadSuccessCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Failed" />
								<TextBlock Classes="StatValue" Text="{Binding PrivateUploadFailedCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
					</WrapPanel>

					<WrapPanel HorizontalAlignment="Center" ItemsAlignment="Center">
						<Border
							Classes="StatCard PrivateOrdersCard"
							Classes.PrivateFlipsGlow="{Binding UploadToAfmOnly}"
							Classes.DimmedUploadCard="{Binding !UploadToAfmOnly}">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Market Offers" />
								<TextBlock Classes="StatValue" Text="{Binding PrivateUploadedMarketOffersCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
						<Border
							Classes="StatCard PrivateOrdersCard"
							Classes.PrivateFlipsGlow="{Binding UploadToAfmOnly}"
							Classes.DimmedUploadCard="{Binding !UploadToAfmOnly}">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Market Requests" />
								<TextBlock Classes="StatValue" Text="{Binding PrivateUploadedMarketRequestsCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
					</WrapPanel>

					<WrapPanel HorizontalAlignment="Center" ItemsAlignment="Center">
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Specs" />
								<TextBlock Classes="StatValue" Text="{Binding PrivateUploadedAchievementsCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
						<Border Classes="StatCard">
							<StackPanel Spacing="4">
								<TextBlock Classes="StatLabel" Text="Uploaded Global Multipliers" />
								<TextBlock Classes="StatValue" Text="{Binding PrivateUploadedGlobalMultipliersCount, StringFormat=N0}" />
							</StackPanel>
						</Border>
					</WrapPanel>
				</StackPanel>
			</Border>

			<!--  ENCRYPTION LINE  -->
			<Grid
				Grid.Row="4"
				Margin="0,10,0,10"
				ColumnDefinitions="*"
				IsVisible="{Binding ShowEncrypted}"
				RowDefinitions="60">
				<StackPanel
					Grid.Row="0"
					Grid.Column="0"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					Orientation="Horizontal"
					Spacing="4">
					<TextBlock
						FontWeight="Bold"
						Foreground="{StaticResource AFMOrange}"
						Text="Your market orders are encrypted! Go to"
						TextAlignment="Center"
						TextWrapping="Wrap" />
					<TextBlock
						Cursor="Hand"
						FontWeight="Bold"
						Foreground="{StaticResource AFMOrange}"
						PointerReleased="AFMDiscordLink_PointerReleased"
						Text="AFM Discord"
						TextDecorations="Underline" />
					<TextBlock
						FontWeight="Bold"
						Foreground="{StaticResource AFMOrange}"
						Text="to understand what's going on."
						TextAlignment="Center"
						TextWrapping="Wrap" />
				</StackPanel>
			</Grid>

		</Grid>
	</ScrollViewer>
</UserControl>
